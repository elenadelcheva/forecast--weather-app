(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(n,e,t){n.exports=t(88)},88:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(15),o=t.n(i),c=t(21),u=t(16),l=t(3),s=t(2);function f(){var n=Object(l.a)(["\n    body {\n        font-family: 'Montserrat', sans-serif;\n        color: ",";\n        background: ",";\n    }\n\n    html, body {\n        padding: 0;\n        margin: 0;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n\n    #root > div {\n        height: 100%;\n        min-height: 100vh;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        flex-direction: column;\n\n        "," {\n            justify-content: center;\n        }\n    }\n"]);return f=function(){return n},n}var m=Object(s.b)(f(),function(n){return n.theme.black},function(n){return n.theme.grey},function(n){return n.theme.mq.medium}),d={white:"#ffffff",black:"#333333",grey:"#f7f7f7",darkGrey:"#e1e1e1",primary:"#95D948",secondary:"#C1E895",shadow:"3px 3px 15px #e1e1e1",mq:{medium:"@media(min-width: 992px)",big:"@media(min-width: 1250px)"}},p=t(10),h=t(14),g=t(50),v=t(45),b=t(46),y=t(53),x=t(47),w=t(11),E=t(54),k=t(29),j=t.n(k),O=t(18);function S(){var n=Object(l.a)(["\n    text-decoration: none;\n    color: inherit;\n    padding: 8px 15px;\n    border: 1px solid ",";\n    position: relative;\n    height: fit-content;\n    pointer-events: ",';\n\n    ::after {\n        content: "";\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        right: 0;\n        transform: scale(0);\n        z-index: 10;\n        transition: transform .15s ease-in-out;\n        opacity: .2;\n        background-color: ',";\n        cursor: pointer;\n    }\n\n    :hover {\n        ::after {\n            transform: scale(1);\n        }\n    }\n"]);return S=function(){return n},n}function z(){var n=Object(l.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n"]);return z=function(){return n},n}function D(){var n=Object(l.a)(["\n    background: ",";\n    color: ",";\n    padding: 15px 15px 55px;\n    display: flex;\n    justify-content: space-between;\n"]);return D=function(){return n},n}function I(){var n=Object(l.a)(["\n    width: 100%;\n\n    "," {\n        max-width: 90%;\n        margin: 0 auto;\n        background: ",";\n        box-shadow: ",";\n    }\n\n    "," {\n        max-width: 1200px;\n    }\n"]);return I=function(){return n},n}var C=s.c.div(I(),function(n){return n.theme.mq.medium},function(n){return n.theme.white},function(n){return n.theme.shadow},function(n){return n.theme.mq.big}),N=s.c.div(D(),function(n){return n.theme.primary},function(n){return n.theme.white}),F=s.c.div(z()),T=Object(s.c)(p.b)(S(),function(n){return n.theme.white},function(n){return n.disable?"none":"unset"},function(n){var e=n.theme;return n.dark?e.primary:e.white}),A=function(n){var e=n.children,t=n.optionsButtonDisabled;return a.a.createElement(C,null,a.a.createElement(N,null,a.a.createElement(F,null,a.a.createElement(O.a,{icon:"cloud-sun-rain",style:{fontSize:"50px",marginRight:"10px"}}),a.a.createElement("span",null,"Weather ",a.a.createElement("br",null)," ",a.a.createElement("b",null," Forecast"))),a.a.createElement(T,{to:"/options",disable:t}," ",a.a.createElement(O.a,{icon:"cogs"})," Ustawienia ")),a.a.createElement("main",null,e))};function L(){var n=Object(l.a)(["\n    background: ",";\n    padding: 20px 15px;\n    color: ",";\n\n    h2 {\n        font-size: 24px;\n        font-weight: 600;\n        text-align: center;\n    }\n"]);return L=function(){return n},n}var q=s.c.header(L(),function(n){return n.theme.secondary},function(n){return n.theme.white}),U=function(n){var e=n.children;return a.a.createElement(q,null,e)},W=t(51);function M(){var n=Object(l.a)(["\n    text-decoration: none;\n    font-family: inherit;\n    padding: 8px 15px;\n    border: 1px solid;\n    border-color: ",";\n    color: ",";\n    background:  ",';\n    margin-left:2px;\n    position: relative;\n    overflow: hidden;\n\n    ::after {\n        content: "";\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        right: 0;\n        transform: scale(0);\n        z-index: 10;\n        transition: transform .15s ease-in-out;\n        opacity: .2;\n        background-color: ',";\n        cursor: pointer;\n    }\n\n    :hover {\n        ::after {\n            transform: scale(1);\n        }\n    }\n"]);return M=function(){return n},n}var R=s.c.button(M(),function(n){var e=n.theme,t=n.dark,r=n.primary;return t?e.black:r?e.primary:e.white},function(n){var e=n.theme;return n.dark?e.black:e.white},function(n){var e=n.theme;return n.primary?e.primary:"none"},function(n){var e=n.theme;return n.dark?e.primary:e.white});function J(){var n=Object(l.a)(["\n    background: none;\n    border: none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    font-family: inherit;\n    width: 100%;\n    padding: 7px 10px;\n    text-align: center;\n    font-size: 16px;\n\n    ::placeholder {\n        color: ",";\n        opacity: .7;\n    }\n"]);return J=function(){return n},n}function B(){var n=Object(l.a)(["\n    max-width: 450px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    margin: 0 auto;\n"]);return B=function(){return n},n}var G=s.c.form(B()),P=s.c.input(J(),function(n){return n.theme.white},function(n){return n.theme.white},function(n){return n.theme.white}),H=function(n){var e=n.onSubmit,t=Object(r.useState)(""),i=Object(W.a)(t,2),o=i[0],c=i[1];return a.a.createElement(G,{id:"searchInput",onSubmit:function(n){n.preventDefault(),e(o),c("")}},a.a.createElement("label",{htmlFor:"cityInput",style:{width:"100%"}},a.a.createElement(P,{id:"cityInput",type:"text",placeholder:"Dodaj miasto",value:o,onChange:function(n){return c(n.target.value)}})),a.a.createElement(R,{type:"submit",form:"searchInput"}," Dodaj "))};function _(){var n=Object(l.a)(["\n    background: ",";\n    color: ",";\n    position: absolute;\n    margin-top: 10px;\n    left: 50%;\n    transform: translateX(-50%);\n    max-width: 90vw;\n    width: fit-content;\n    text-align: center;\n    padding: 5px 15px;\n    border-radius: 15px;\n    z-index: 9999;\n\n    "," {\n        background: ",";\n    }\n"]);return _=function(){return n},n}var X=s.c.div(_(),function(n){return n.theme.white},function(n){return n.theme.black},function(n){return n.theme.mq.medium},function(n){return n.theme.grey});function $(){var n=Object(l.a)(["\n    text-decoration: none;\n    font-family: inherit;\n    padding: 8px 15px;\n    border: 1px solid;\n    border-color: ",";\n    color: ",";\n    background:  ",';\n    margin-left:2px;\n    position: relative;\n    overflow: hidden;\n\n    ::after {\n        content: "";\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        right: 0;\n        transform: scale(0);\n        z-index: 10;\n        transition: transform .15s ease-in-out;\n        opacity: .2;\n        background-color: ',";\n        cursor: pointer;\n    }\n\n    :hover {\n        ::after {\n            transform: scale(1);\n        }\n    }\n"]);return $=function(){return n},n}var K=Object(s.c)(p.b)($(),function(n){var e=n.theme;return n.dark?e.black:e.primary},function(n){var e=n.theme;return n.dark?e.black:e.white},function(n){return n.theme.primary},function(n){var e=n.theme;return n.dark?e.primary:e.white}),Q=t(49),V=t.n(Q);function Y(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: space-evenly;\n"]);return Y=function(){return n},n}function Z(){var n=Object(l.a)(["\n    font-size: 36px;\n    font-weight: 600;\n    text-align: center;\n    margin: 30px auto;\n"]);return Z=function(){return n},n}function nn(){var n=Object(l.a)(["\n    font-size: 20px;\n    font-weight: 600;\n    margin: 0;\n"]);return nn=function(){return n},n}function en(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    background: ",";\n    border: 1px solid ",";\n    flex-direction: column;\n    max-width: 100%;\n    width: 250px; \n    margin: 10px auto;\n    padding: 15px 20px;\n\n    "," {\n        margin: 10px 35px;\n    }\n"]);return en=function(){return n},n}var tn=s.c.div(en(),function(n){return n.theme.white},function(n){return n.theme.darkGrey},function(n){return n.theme.mq.medium}),rn=s.c.h2(nn()),an=s.c.div(Z()),on=s.c.div(Y());var cn=Object(u.b)(function(n){return{celsiusDegrees:n.celsiusDegrees}})(function(n){var e=n.celsiusDegrees?a.a.createElement("span",null,(n.city.temperature-273.15).toFixed(1),"\xb0C"):a.a.createElement("span",null," ",(9*n.city.temperature/5-459.67).toFixed(1),"\xb0F ");return a.a.createElement(V.a,{duration:250},a.a.createElement(tn,null,a.a.createElement(rn,null," ",n.city.name," "),a.a.createElement(an,null," ",e," "),a.a.createElement(on,null,a.a.createElement(R,{dark:!0,onClick:function(){return n.deleteItem(n.mapId)}}," ",a.a.createElement(O.a,{icon:"ban"})," Usu\u0144 "),a.a.createElement(K,{to:{pathname:"/details",state:{cityInfo:n.city}}},"Szczeg\xf3\u0142y"))))});function un(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    padding: 45px 0;\n\n    "," {\n        flex-direction: row;\n        flex-wrap: wrap;\n    }\n"]);return un=function(){return n},n}var ln=s.c.div(un(),function(n){return n.theme.mq.medium}),sn=function(n){var e=n.items,t=n.deleteCity;return a.a.createElement(ln,null,e.map(function(n,e){return a.a.createElement(cn,{city:n,mapId:e,deleteItem:function(n){return t(n)},key:n.name})}))},fn=function(n){function e(n){var t;return Object(v.a)(this,e),(t=Object(y.a)(this,Object(x.a)(e).call(this,n))).state={city:"",data:[],showNotification:!1,notificationMessage:""},t.getCityName=t.getCityName.bind(Object(w.a)(t)),t.deleteFromLocalStorage=t.deleteFromLocalStorage.bind(Object(w.a)(t)),t.updateAfterRefresh=t.updateAfterRefresh.bind(Object(w.a)(t)),t}return Object(E.a)(e,n),Object(b.a)(e,[{key:"componentDidMount",value:function(){for(var n=this,e=JSON.parse(localStorage.getItem("cities"))||[],t=function(t){j.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e[t].name,"&appid=972589b46854cfc7c5e7b037031d4242")).then(function(e){n.updateAfterRefresh(t,e.data.list)}).catch(function(n){console.log(n)})},r=0;r<e.length;r++)t(r);this.setState({data:JSON.parse(localStorage.getItem("cities"))||[]})}},{key:"updateAfterRefresh",value:function(n,e){var t=this,r=this.state.data;r[n].temperature=this.averageTemp(e),this.setState({data:r},function(){return t.saveToLocalStorage()})}},{key:"fetchData",value:function(){var n=this,e=this.state,t=e.city,r=e.data;t&&!r.some(function(n){return n.name===t})?j.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=972589b46854cfc7c5e7b037031d4242")).then(function(e){200===e.status&&n.setState({data:[].concat(Object(g.a)(r),[n.processData(e.data)])},function(){return n.saveToLocalStorage()})}).catch(function(e){console.log(e),n.setState({showNotification:!0,notificationMessage:"Wyst\u0105pi\u0142 b\u0142\u0105d. Upewnij si\u0119, \u017ce podana nazwa jest poprawna."},function(){setTimeout(function(){n.setState({showNotification:!1,notificationMessage:""})},1500)})}):t&&this.setState({showNotification:!0,notificationMessage:"To miasto zosta\u0142o dodane ju\u017c wcze\u015bniej."},function(){setTimeout(function(){n.setState({showNotification:!1,notificationMessage:""})},1500)})}},{key:"processData",value:function(n){var e={},t=n.list;return e.id=n.city.id,e.name=n.city.name,e.temperature=this.averageTemp(t),e.lat=n.city.coord.lat,e.lon=n.city.coord.lon,e.timezone=n.city.timezone,e}},{key:"averageTemp",value:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t].main.temp;return e/n.length}},{key:"deleteFromLocalStorage",value:function(n){var e=this,t=this.state.data;t.splice(n,1),this.setState({data:t},function(){return e.saveToLocalStorage()})}},{key:"saveToLocalStorage",value:function(){localStorage.setItem("cities",JSON.stringify(this.state.data))}},{key:"getCityName",value:function(n){var e=this;this.setState({city:n},function(){return e.fetchData()})}},{key:"render",value:function(){var n=this,e=this.state,t=e.data,r=e.showNotification,i=e.notificationMessage;return a.a.createElement(A,null,a.a.createElement(U,null,a.a.createElement(H,{onSubmit:this.getCityName})),r&&a.a.createElement(X,null," ",i," "),a.a.createElement(sn,{items:t,deleteCity:function(e){return n.deleteFromLocalStorage(e)}}))}}]),e}(a.a.Component);function mn(){var n=Object(l.a)(["\n    text-decoration: none;\n    font-family: inherit;\n    padding: 8px 15px;\n    border: 1px solid;\n    border-color: ",";\n    color: ",';\n    background: none;\n    margin-left:2px;\n    position: relative;\n    overflow: hidden;\n    font-size: 16px;\n    display: inline-block;\n\n    ::after {\n        content: "";\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        right: 0;\n        transform: scale(0);\n        z-index: 10;\n        transition: transform .15s ease-in-out;\n        opacity: .2;\n        background-color: ',";\n        cursor: pointer;\n    }\n\n    :hover {\n        ::after {\n            transform: scale(1);\n        }\n    }\n"]);return mn=function(){return n},n}var dn=s.c.button(mn(),function(n){return n.theme.primary},function(n){return n.theme.primary},function(n){return n.theme.primary}),pn=Object(h.d)(function(n){return a.a.createElement(dn,Object.assign({},n,{onClick:function(){n.history.goBack()}}),"<",n.children)});function hn(){var n=Object(l.a)(["\n    display: block;\n    font-weight: 500;\n    padding: 5px 0;\n    cursor: pointer;\n"]);return hn=function(){return n},n}function gn(){var n=Object(l.a)(["\n    font-size: 14px;\n    margin: 0 0 10px;\n"]);return gn=function(){return n},n}function vn(){var n=Object(l.a)(["\n    margin: 25px 0;\n"]);return vn=function(){return n},n}var bn=s.c.div(vn()),yn=s.c.h5(gn()),xn=s.c.label(hn());var wn=Object(u.b)(function(n){return{celsiusDegrees:n.celsiusDegrees}})(function(n){var e=function(e){localStorage.setItem("unit",e.target.value),n.dispatch({type:"CHANGE_UNIT"})};return a.a.createElement(bn,null,a.a.createElement(yn,null," Jednostka "),a.a.createElement("div",null,a.a.createElement(xn,{htmlFor:"cDeg"}," ",a.a.createElement("input",{type:"radio",name:"units",id:"cDeg",value:"C",onChange:e,checked:n.celsiusDegrees})," \xb0C "),a.a.createElement(xn,{htmlFor:"fDeg"}," ",a.a.createElement("input",{type:"radio",name:"units",id:"fDeg",value:"F",onChange:e,checked:!n.celsiusDegrees})," \xb0F ")))}),En=t(22),kn=t.n(En);function jn(){var n=Object(l.a)(["\n    padding: 40px;\n"]);return jn=function(){return n},n}var On=s.c.div(jn()),Sn=function(){return a.a.createElement(kn.a,{duration:400},a.a.createElement(On,null,a.a.createElement(pn,null," Powr\xf3t "),a.a.createElement(wn,null)))},zn=function(){return a.a.createElement(A,{optionsButtonDisabled:!0},a.a.createElement(U,null,a.a.createElement("h2",null," Ustawienia ")),a.a.createElement(Sn,null))};function Dn(){var n=Object(l.a)(["\n    font-size: 14px;\n    margin: 0 0 10px;\n"]);return Dn=function(){return n},n}function In(){var n=Object(l.a)(["\n    margin: 25px 0;\n"]);return In=function(){return n},n}var Cn=s.c.div(In()),Nn=s.c.h5(Dn()),Fn=function(n){var e=n.cityInfo;return a.a.createElement(Cn,null,a.a.createElement(Nn,null," D\u0142ugo\u015b\u0107 geograficzna "),a.a.createElement("p",null,e.lon),a.a.createElement(Nn,null," Szeroko\u015b\u0107 geograficzna "),a.a.createElement("p",null,e.lat),a.a.createElement(Nn,null," Strefa czasowa "),a.a.createElement("p",null,e.timezone))};function Tn(){var n=Object(l.a)(["\n    padding: 40px;\n"]);return Tn=function(){return n},n}var An=s.c.div(Tn()),Ln=function(n){var e=n.cityInfo;return a.a.createElement(kn.a,{duration:400},a.a.createElement(An,null,a.a.createElement(pn,null," Powr\xf3t "),a.a.createElement(Fn,{cityInfo:e})))},qn=function(n){var e=n.location.state.cityInfo;return console.log(e),a.a.createElement(A,null,a.a.createElement(U,null,a.a.createElement("h2",null," Szczeg\xf3\u0142y | ",e.name," ")),a.a.createElement(Ln,{cityInfo:e}))},Un=t(19),Wn=t(23);Un.b.add(Wn.c,Wn.a,Wn.b);var Mn={celsiusDegrees:"F"!==localStorage.getItem("unit")},Rn=Object(c.b)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;switch((arguments.length>1?arguments[1]:void 0).type){case"CHANGE_UNIT":return{celsiusDegrees:!n.celsiusDegrees};default:return n}}),Jn=function(){return a.a.createElement(u.a,{store:Rn},a.a.createElement(s.a,{theme:d},a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement("div",null,a.a.createElement(p.a,null,a.a.createElement(h.a,{exact:!0,path:"/",component:fn}),a.a.createElement(h.a,{path:"/options",component:zn}),a.a.createElement(h.a,{path:"/details",component:qn}))))))},Bn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gn(n,e){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}}).catch(function(n){console.error("Error during service worker registration:",n)})}o.a.render(a.a.createElement(p.a,null," ",a.a.createElement(Jn,null)," "),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Bn?(function(n,e){fetch(n).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):Gn(n,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Gn(e,n)})}}()}},[[55,1,2]]]);
//# sourceMappingURL=main.e87599a3.chunk.js.map